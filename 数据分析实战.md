## 第一章 ABtest检验
https://zhuanlan.zhihu.com/p/68019926

[![2023-10-09-150302.png](https://i.postimg.cc/4dR2H1cp/2023-10-09-150302.png)](https://postimg.cc/8FwmqMtC)
### 0.0 AA/AB测试
- AB测试自不必说，主要测试新的算法在指定的监测指标上又没有达到预期，AA测试则一般用来测试AB测试和用户的稳定性，也可以作为AB测试的一个预演和对AB测试工具的测试。
### 1.1ABtest--简介
- 类似于初中生物说的对照试验。对用户分组，每个组使用一个方案（方案应该遵守单变量前提），在相同的时间维度上取观察用户的反应（体现在业务数据和用户体验数据上）。需要注意的是哥哥用户群组的组成成分应该尽量相似，比如新老用户很有可能表现出较大的偏好差异。最后根据假设检验的结果，判断 哪些版本较之原版本有统计意义上的差异，并根据效应量选出其中表现最好的版本。
### 1.2ABtest--流程
#### 1.2.1 ABtest--流程--测试流程
1. 分析现状，建立加假设：分析业务，确定最高优先级的改进点，作出假设，提出优化建议、
2. 设定指标：设置主要指标来衡量版本的优劣；设置辅助指标来评估其他影响
3. 设计与开发：设计优化版本的原型并完成开发
4. 确定测试的市场
5. 确定分流方案：确定每个测试版本的分流比例以及其他分流细节
6. 采集并分析数据：手机实验数据，进行有效性和效果判断
7. 得出结论：确定发布新版本；调整分流比例继续测试；优化迭代方案重新开发，回到步骤1
- **注意点**
  - 测试时长：测试时长不宜过短，否则参与实验的用户几乎是产品的高频用户
  - 分流（或者说抽样）：应该保证同时性、同质性、唯一性、均匀性
    - 同时性：分流与测试应该是同时的
    - 同质性：也可以说是相似性，是要求分出的用户群，在各维度上的特征都相似。可以基于用户的设备特征（例如：手机型号、操作系统版本号、手机语言等）和用户的其他标签（例如性别、年龄、新老用户、会员等级等）进行分群，每一个A/B测试试验都可以选定特定的用户群进行试验。
    - 唯一性：要求用户不被重复计入测试
    - 均匀性：要求各组流量是均匀的。Hash算法。现在一般由专用的A/B测试工具负责。也有看到一篇文章写了python实现，大体的思路是对用户id添加Salt值，对其散列，并据此算出一个0-1之间的浮点数，同设定好的阈值比大小，从而分组。有兴趣的可以看看，该作者的思路很清晰： 随机分配里的Why and How。（统计学原理上，我没有找到均匀性这一要求的依据，其实双样本的假设检验并不要求两个样本的数量相等或相近。当然从直观上是可以理解，希望分出的用户组越相近越好，包括人数的相近。）
  - **思考**:如何确定同质性
    - 可以采用AAB测试。抽出两份流量进行A版本的测试，进行AA测试，并分别与B版本进行AB测试。通过考察A1和A2组是否存在显著性差异，就可以确定试验的分流是否同质了。
#### 1.2.2 ABtest--流程--注意点
- A/B测试只能有两个版本么？
  - A/B test不是只能A方案和B方案，实际上一个测试可以包含A/B/C/D/E/……多个版本，但是要保证单变量，比如按钮的颜色赤/橙/黄/绿/青/蓝/紫，那么这七个方案是可以做A/B测试的；但如果某方案在旁边新增了另一个按钮，即便实验结果产生了显著差异，我们也无法判断这种差异的成因究竟是谁。
- 同一段时间内可以做不同的A/B测试么？
  - 比如一个test抽取总体20%的流量做按钮颜色的实验，另一个test也抽取总体20%的流量做布局样式的实验。是否可行？

  - 我认为是可行的。但要求多个方案并行测试，同层互斥。如果从总体里，先后两次随机抽取20%流量，则很有可能会有重叠的用户，既无法满足控制单变量，又影响了用户的使用体验。

  - 同层指的是在同一流量层中创建实验，在此层中创建的实验共享此层中的100%流量。
互斥指的是在此层中，一个设备有且只能分配到此层多个实验中的某一个实验。
### 1.3ABtest--假设检验
[![2023-10-09-145447.png](https://i.postimg.cc/3NxWgLrj/2023-10-09-145447.png)](https://postimg.cc/S2Hy4fMj)
#### 1.3.1 ABtest--假设检验--流程
1. 给出原假设（零假设）和备择假设
- 零假设和备择假设是参数空间的真子集，且不能相交。

- 常把没有把握不能轻易肯定的命题作为备择假设H1 ，而把没有充分理由不能轻易否定的命题作为零假设H0 。或者说我们将希望通过实验结果推翻的假设记为零假设H0。
2. 根据备择假设确定检验方向
- 备择假设含≠则为双尾；含<或>则为单尾，含<为左尾，含>为右尾。 
3. 判断抽样分布类型
- 主要判断抽样分布是否近似正态分布
4. 确定检验类型及检验统计量
- 在判断用什么检验的时候，首要考虑的条件是样本量，其次是总体服从的分布
  - 样本容量大时（统计学上一般认为n≥30），总体的均值和标准差未知，不要求总体近似服从正态分布。根据中心极限定理，样本容量大，则样本均值的抽样分布服从正态分布，总体标准差可以用样本标准差来估计，可用Z检验；
  - 当样本容量小于30，且满足总体近似服从正态分布时，如果总体标准差已知，可用Z检验；
  - 当样本容量小于30，且满足总体近似服从正态分布时，如果总体标准差未知，可以用样本标准差去估计总体标准差，由此可用T检验；
  - 当样本容量小于30，且不满足总体近似服从正态分布，不能用Z检验和T检验。
- **注意：**（不过现在的很多软件简化了上述步骤，改为，若总体标准差已知（无论样本大小）都用Z检验；若总体标准差未知，都用T检验。不过当样本量够大的时候，T分布也近似于Z分布了，所以最后的结果不会差很多。T分布其实是小样本的Z分布。一个样本的自由度越大，样本方差就越接近总体方差，T分布也就越接近Z分布。因此T分布的形状随自由度的变化而变化，自由度越大，越接近正态分布。）
5. 给定显著性水平
- α常取0.1、0.05、0.01，后文会再谈到显著性水平与两类错误。
#### 1.3.1 ABtest--假设检验--如何确定检验类型
- 样本容量大时（统计学上一般认为n≥30），总体的均值和标准差未知，不要求总体近似服从正态分布。根据中心极限定理，样本容量大，则样本均值的抽样分布服从正态分布，总体标准差可以用样本标准差来估计，可用Z检验；
  - 当样本容量小于30，且满足总体近似服从正态分布时，如果总体标准差已知，可用Z检验；
  - 当样本容量小于30，且满足总体近似服从正态分布时，如果总体标准差未知，可以用样本标准差去估计总体标准差，由此可用T检验；
  - 当样本容量小于30，且不满足总体近似服从正态分布，不能用Z检验和T检验。
### 1.4ABtest--假设检验示例以及相关代码
## 第二章--数据分析
### 2.1.1 技能决定下线，思维决定上线
### 2.1.2 目标导向：如何走出数的怪圈
### 2.1.3 客观严谨：事实+论证过程+观点
### 2.1.4 指标思维：如何搞清楚各种不同的指标
### 2.1.5 逻辑思维
### 2.1.6 系统结构
### 2.1.7 懂业务
## 第三章 常用的数据分析方法
- 对比分析法
  - 是指将两个或者两个以上的指标进行对比分析，通过对比分析可以直观地看到事务的变化或者差距。
  - 对比分析可以基于时间进行对比，也可以基于分类（地区，部门，类别）对比。
  [![2023-10-09-162517.png](https://i.postimg.cc/j5GjmbvY/2023-10-09-162517.png)](https://postimg.cc/Q9JsKvRf)
  - 在使用对比分析法的过程中，我们要搞清楚三点：比什么？怎么比？和谁比？

  - 比什么，一般就是拿数值进行对比，绝对值或者是比例值。

  [![2023-10-09-162624.png](https://i.postimg.cc/Jn1mq28d/2023-10-09-162624.png)](https://postimg.cc/gwBfc4nv)

- 分组分析法
- 结构分析法
- 交叉分析法
- 矩阵分析法
- 杜邦分析法
- 漏斗图分析法
#### 3.1 对比分析法--按时间和地区
- 怎么比，一般有同比和环比两种方式，同比是与当前时间范围上层时间范围的前一范围中同样位置数据对比，比如年同比：今日vs去年今日。环比是与当前时间范围相邻的上一个时间范围对比，比如日环比：今天vs昨天
  
- 例如，利用对比分析法分析某公司的理念销售额的变化，基于事件的对比通常用折线图

  [![2023-10-09-152941.png](https://i.postimg.cc/Zn8H1fTV/2023-10-09-152941.png)](https://postimg.cc/q672Kx63)
- 例如：通过对比分析法分析不同地区的销售，基于分类的对比通常采用柱形图图或者条形图

    [![2023-10-09-153049.png](https://i.postimg.cc/YCZFz679/2023-10-09-153049.png)](https://postimg.cc/sMP1VZvd)
- 和谁比？可以和自己比，也可以和行业或者竞品比。比如从时间维度，那去年的销售额数据和今年的相比，发现下滑5%，说明公司今年销售情况相比去年不太好，然后再和行业整体数据相比，发现行业整体销售下滑20%，公司销售下滑比例远小于行业整体销售下滑比例，说明今年公司的销售情况还不错。

[![2023-10-09-162915.png](https://i.postimg.cc/G3KhwVKD/2023-10-09-162915.png)](https://postimg.cc/py9tK0gV)
### 3.2 对比分析法--同比
- 居于时间的对比有两个常用的指标：同比和环比
- 同比：分析指标与同期进行比较，一般用于两年相同的月份的比较上
- 环比：分析指标与相邻周期（上个月）进行比较，一般用于相邻月份的比较上
[![2023-10-09-153545.png](https://i.postimg.cc/zXtNMpVJ/2023-10-09-153545.png)](https://postimg.cc/svhbGYY8)
### 3.3 对比分析法--环比
### 3.4 分组分析法
- 分组分析法主要用于查看数据的分布，即绘制直方图。例如，莫公司想了解客户购买数量的情况，可以绘制客户购买量的直方图，如下图所示，从图中可以看出：
  - 大多数客户的购买数量在6件以下
  - 有981人只够买了一件，1174人购买数量大于6件，但不超过11件
  - 少数用户的购买数量大于11件
  
[![2023-10-09-160118.png](https://i.postimg.cc/Dwqm87Ds/2023-10-09-160118.png)](https://postimg.cc/LJ8mWFm6)

### 3.5 结构分析法
- 主要用于分析总体内部各部分栈总体的比例
- 例如：分析不同的餐品类别所占的比例，可以通过并图来表示。
  
  [![2023-10-09-160727.png](https://i.postimg.cc/QxjqyGzT/2023-10-09-160727.png)](https://postimg.cc/14Y68Tsm)
- 结构分析法也可以添加时间维度，例如，对比不同年份的不同产品类别的销售额，一般采用堆积柱形图表示
  
 [![2023-10-09-161004.png](https://i.postimg.cc/RhWvMbsQ/2023-10-09-161004.png)](https://postimg.cc/dZcb6nKL)
### 3.6 交叉分析法
- 把统计分析数据制作称二维交叉表格，将一定联系的变量分别设置为行变量和列变量，两个变量在表格中的交叉节点即为变量值，通过表格体现变量之间的关系，称为交叉分析法
- 交叉分析法在市场调研项目中应用比较广泛，它可以让复杂的数据关系简单化，对于调研数据的整理比较实用。
- 案例：对一个地区230家宾馆进行调查分析，主要指标采用综合等级，平均价格、服务等级、卫生标准等。得到一个230家宾馆的一维数据调查表：

[![2023-10-09-163255.png](https://i.postimg.cc/nrQf3bsZ/2023-10-09-163255.png)](https://postimg.cc/Pvh7q7zF)
### 3.7 矩阵分析法
https://www.51cto.com/article/687680.html
- 矩阵分析法就是用矩阵的方式来分析数据，其中最有名的就是波士顿矩阵（BCG）
- 波士顿矩阵是以市场增长率和市场占有率作为坐标轴，将企业产品分为四类，如下图所示
[![2023-10-09-163637.png](https://i.postimg.cc/zXjrRg6R/2023-10-09-163637.png)](https://postimg.cc/fJJFGJww)
- 从图中可以看到，这四类产品有如下特征。

  - 市场占有率高，且市场增长率高的产品称为明星产品。
  - 市场占有率高，但市场增长率低的产品称为现金牛产品。
  - 市场占有率低，但市场增长率高的产品称为问题产品。
  - 市场占有率和市场增长率都低的产品称为瘦狗产品。
- 针对这四类产品要采取的运营策略也是不同的。

  - 明星产品：市场份额高，且有较大的成长空间，需要加大投资，使其继续增长。

  - 现金牛产品：市场占有率高但没什么成长空间，属于成熟阶段，能够为企业带来大量的现金流，保持即可。

  - 问题产品：市场占有率低，但增长率高，这种产品往往是一个企业的新产品，潜力大，但也伴随着风险，想提高市场占有率就要加大投资，以便快速抢占市场份额，加大投资可能会影响企业现有的成熟的业务，意味着企业需要转型，所以“问题”这个词很好地描述了这种产品，企业必须慎重考虑是继续发展该产品还是放弃。

  - 瘦狗产品：市场占有率低，且增长率低，即无法带来现金流，也没有办法改善其增长问题，更多地是基于情感因素或者其他因素保留该产品，对于这类产品，需要尽快剥离或者放弃
- 实现
  - 在数据分析工作中，也可以按照这个思路来分析问题，例如，想知道各个地区的销售额和数量，可以做如下表所示的统计。
    
[![2023-10-09-165307.png](https://i.postimg.cc/nrYRsqdR/2023-10-09-165307.png)](https://postimg.cc/4HybqHRV)
  - 第一步：用数据透视表统计出各个地区的销售额和数量，并求出销售额和数量的均值，如下表所示。
  [![2023-10-09-165431.png](https://i.postimg.cc/mDtFX30Y/2023-10-09-165431.png)](https://postimg.cc/XG6JX5Nq)
  - 第二步：绘制散点图，以销售额作为X轴，以数量作为Y轴，如下图所示。
  [![2023-10-09-165502.png](https://i.postimg.cc/d3G3p5ny/2023-10-09-165502.png)](https://postimg.cc/ct4d8Mpx)
  - 第三步：调整坐标轴，将横纵坐标轴的交点调整为均值。选中横坐标，在坐标轴选项中，将“坐标轴值”设置为销售额的均值2686258。
  [![2023-10-09-165510.png](https://i.postimg.cc/MpHxjsRm/2023-10-09-165510.png)](https://postimg.cc/svkbk4TM)
  - 按照同样的方式，选中纵坐标，将这个值设置为数量的均值6279，如下图所示。
  [![2023-10-09-165614.png](https://i.postimg.cc/Pq17LZ6M/2023-10-09-165614.png)](https://postimg.cc/TyY0Fyvy)
### 3.8 杜邦分析法
https://www.zhihu.com/tardis/zm/art/401308988?source_id=1003
#### 3.8.1 杜邦分析法--解释
- 是一种用来评价企业的盈利能力和股东权益汇报水平的指标，从财务角度评价企业绩效的一种方法，总的来说，杜邦分析法其实就是以ROE为核心，自上而下拆分的一个金字塔结构：

[![2023-10-09-170559.png](https://i.postimg.cc/hjfbW6Q1/2023-10-09-170559.png)](https://postimg.cc/N9vrRN4K)
- 杜邦分析法的框架逻辑
  - 杜邦分析公式：ROE（净资产收益率）=销售净利率*资产周转率*权益乘数
  - ROE是杜邦分析系统的顶层，也是我们分析的最终目的，它用来反映投入资本的盈利能力。
  - 通俗来说就是：你有100万本金想开个剧本杀店，钱不够找隔壁老王借了100万，也就说你的剧本杀店现在负债100万，如果剧本杀店经营的不错，扣除完各种费用和还隔壁老王的利息还赚了20万，这时候你剧本杀店的ROE就是20%。计算的方法就是用20万的净利润除以你个人出资的100万，等于20%。

  - ①销售净利率=净利润 / 销售收入——表明企业的盈利能力

  - ②资产周转率=销售收入/ 总资产——表明企业资金周转的能力

  - ③权益乘数=总资产/净资产(权益)——反映企业的负债程度，资产负债率越高，权益乘数就越大，风险就越大
#### 3.8.1 杜邦分析法--案例操作
- 杜邦分析法的三个步骤
  - 第一步：从净资产收益（ROE）开始，根据财务三大表（主要是资产负债表和利润表）逐步分解计算各指标
  - 第二部：将计算的指标填入杜邦分析图
  - 第三步：逐步进行前后期对比法分析，也可以进一步进行企业间的横向对比分析，分析哪些指标影响了ROE,找到原因
- 案例：老李这边准备了某企业2015年和2016年的资产负债表和利润表
  - 第一步：
  - 在Excel中准备好数据后，接着使用FineBI这个分析工具逐步分解计算各指标（Excel是可以直接连接FineBI的）
  - 由于给出的是利润数据和资产负债数据两个数据表，但是在进行杜邦分析时，需要同时使用两个数据表中的数据参与计算，因此需要合并两个数据表。
  - 合并数据表后，我们就要开始计算销售净利率
    - 添加「计算字段」，命名为「销售净利率」，输入公式：SUM_AGG(净利润)/SUM_AGG(销售收入)，点击「确定」
  - 接下来，计算资产周转率，再次添加计算字段，命名并输入公式：SUM_AGG(销售收入)/SUM_AGG(总资产)，点击「确定」
  - 再接着计算权益乘数，再次添加计算字段，命名并输入公式：SUM_AGG(总负债)/SUM_AGG(总资产)，点击「确定」
  - 最后，我们开始计算净资产收益率（ROE），添加计算字段，命名并输入公式：销售净利润率*资产周转率*权益乘数
  - 为了让ROE显示的更加突出，我们创建一个指标卡：选择「指标卡」，将「资产净收益率」拖入文本框，并设置格式
  - 第二步：将计算出的指标填入杜邦分析图
    - 通过以上计算，我们就能够将计算的指标填入杜邦分析图来看看效果
  - 从ROE看，2015年为0.98%，而到了2016年则下降至0.96%，为什么下降了0.02%，是哪个指标引起的下降？我们从上而下开始分析：

1. ROE=总资产收益率*权益乘数
- 2015年ROE=资产净利率*权益乘数=0.79%*1.22=0.96%；2016年ROE=资产净利率*权益乘数=0.77%*1.27=0.98%

- 对比发现，ROE下降了将近百分之0.02%。通过两张杜邦分析表，我们可以看到主要原因是由于资产净利率的下降而引起的，权益乘数虽然有提高但并不大，下面再进一步分析资产净利率。

2. 资产净利率=销售净利率*资产周转率
- 2015年资产净利率=9.18%*8.55%=0.79%，2016年资产净利率=9.56%*8.03%=0.77%　

- 可以看到，影响资产净利率的为销售净利率跟资产周转率，销售净利率上涨，但资产周转率下降的程度大，所以才会总资产净利率下降。那我们再来看看什么原因影响了资产周转率？

3. 资产周转率=营业收入/总资产
- 从上面的分析，我们得知资产周转率从2015年的8.55%下降至8.03%

- 2015年资产周转率=营业收入/总资产=6.62/77.45=8.55%（单位为亿）

- 2016年资产周转率=营业收入/总资产=6.10/76.00=8.03%（单位为亿）

- 可以看到，营业收入下降，总资产也在下降，所以自然周转率就下降了。

- 最后我们再看下权益乘数，从上面的杜邦分析表看变动不大。就不展开分析了，按照我上面的步骤拆解分析即可。　　

- 通过三步的杜邦分析法，我们得出这样的结论：应收帐款较大，公司需要加强催款力度，缩短回款周期；成本费用过大，公司要想办法节约成本，把销售费用等支出降下来，保证净利润。当然，对于一个行业竞争激烈的企业，这不是一件容易的事情。

- 最后，老李要提醒一下，杜邦分析法是从盈利能力、运营能力、偿债能力角度进行分析，没办法充分体现企业的发展情况，所以我建议分析师们先研究完行业、企业的综合管理能力、领导层管理能力等无形的判断后再用财务指标结合估值公司的整体水平。

- 最后，数据分析工具和准备的Excel数据表（见评论区），建议大家都操作试试，别直接放进收藏夹吃灰，毕竟实践出真知，上手操作一遍才知道自己是不是真的掌握。
### 3.9 漏斗图分析法
https://zhuanlan.zhihu.com/p/133326442
#### 3.9.1 漏斗图分析--介绍
- 是一台流程式的数据分析，能够科学反应用户行为状态以及从起点到终点各阶段用户转化率情况，是一种重要的分析模型。漏斗分析模型已经广泛用于网站和APP用户行为分析的流量监控、电商行业、零售的购买转化率、产品销售和影响等日常数据运营与数据分析的工作中。
- 例如：漏斗模型在电商网站中的应用，用户从首页进入最终完成支付的行为，大多需要经过几个环节，从商品/浏览分类——查看商品详情——加入购物车——生成订单——开始支付——完成支付——回购商品。这其中的每个环节都有一定的转化率，我们需要做的是监控用户在流程上各个层次的行为路径，寻找每个层级的可优化点，提高用户在每个层级之间的转化率，最终来提高GMV。
[![2023-10-09-172939.png](https://i.postimg.cc/jSgBfPrV/2023-10-09-172939.png)](https://postimg.cc/zyhdZLBp)
- **作用**：对于业务流畅相对规范，周期较长，环节较多的流程进行分析，能够直观地发现和说明问题所在，可以更快的找触摸各环节的转化率出现的问题
  - 企业可以监控用户在各个层级的转化情况。
    - 降低流失是运营人群的重要目标，通过不同层级的情况，迅速定位流失环节，针对性持续分析找到可优化点，如此提升用户留存率
  - 多维度切分与呈现用户转化情况
    - 科学的漏斗分析能够展现转化率趋势的曲线，能帮助企业精细地捕捉用户行为变化，提升了转化分析的精度和效率，对选购流程的异常定位和策略调整效果验证有科学指导意义。
  - 不同属性的用户群体漏斗比较
    - 漏斗对比分析是科学漏斗分析的重要一环，运营人员可以通过不同属性的用户群体（如新注册用户与老客户）各环节转化率，各流程步骤转化率的差异对比，了解转化率最高的用户群体，分析漏斗合理性，并针对转化率异常环节进行调整
#### 3.9.1 漏斗图分析--应用场景
- AARRR模型：从用户增长各阶段入手，包括Acquisition用户获取，Activation用户激活，Retention用户留存，Revenue用户产生收入，Refer自传播。该模型主要应用于互联网行业
  [![2023-10-09-173404.png](https://i.postimg.cc/mgp2rPXk/2023-10-09-173404.png)](https://postimg.cc/21vfcSfN)
- 消费漏斗模型：一般用于页面结构和内容较为复杂的业务，从用户内容消费和流量走向的角度，宏观层面用于回答用户消费什么内容，微观层面则用于分析影响用户消费的问题是什么。主要流程是从广告引流—商品介绍—场景打造—下单购买
  [![2023-10-09-173502.png](https://i.postimg.cc/FHYXDDpF/2023-10-09-173502.png)](https://postimg.cc/fVQPb711)
- 电商漏斗模型：典型的用户购买行为由以下连续的行为构成：浏览首页—浏览商品—提交订单—支付订单。当我们期望观察各步骤间及总体转化率，可按以下步骤进行：
  [![2023-10-09-173559.png](https://i.postimg.cc/Y2TPtMz7/2023-10-09-173559.png)](https://postimg.cc/K4rfNXWp)
- AIDMA模型
  - 主要流程是注意--兴趣--欲望--记忆--行动（购买），应用于品牌营销
  [![2023-10-09-184431.png](https://i.postimg.cc/KvNyrbpt/2023-10-09-184431.png)](https://postimg.cc/BXXy4r0v)
- AISAS模型
  - 主要的流程是：注意--兴趣--搜索--行动--分享，在AIDMA模型的基础上增加了用户反馈的环节
  [![2023-10-09-184554.png](https://i.postimg.cc/zvvJrF0Y/2023-10-09-184554.png)](https://postimg.cc/64ssVRkM)
## 第四章 常用的数据分析思维模型
[![2023-10-09-195218.png](https://i.postimg.cc/05wBc2D2/2023-10-09-195218.png)](https://postimg.cc/hhKsGn2H)
- PEST分析法
- 4p营销理论
- AARRR模型
- 用户行为理论
- 5W2H分析方法
- 逻辑树
### 4.1 常用的数据分析思维模式--PEST分析法
-PEST分析法主要用于对行业的宏观环境的分析，虽然不同行业和企业有其自身他特点和经营要素，分析的具体内容会有差异，但一般都可以从PEST这四个方面进行分析。
-PEST分别是四个单词的首字母，其中：
  - P:政治环境
  - E:经济环境
  - S:社会环境
  - T:技术环境
  [![2023-10-09-184937.png](https://i.postimg.cc/qqJGMz3T/2023-10-09-184937.png)](https://postimg.cc/Fd6STFpW)
[![2023-10-09-185007.png](https://i.postimg.cc/rFdrG1cH/2023-10-09-185007.png)](https://postimg.cc/Tp61fWKj)
- 案例分析：用PSWST分析方法分析生鲜行业
[![2023-10-09-185121.png](https://i.postimg.cc/13k2Rr51/2023-10-09-185121.png)](https://postimg.cc/75Nmm72K)
[![2023-10-09-185156.png](https://i.postimg.cc/rmcHxyrh/2023-10-09-185156.png)](https://postimg.cc/cK9TNSTY)
[![2023-10-09-185255.png](https://i.postimg.cc/W4tGyBP2/2023-10-09-185255.png)](https://postimg.cc/R35J6bF8)
[![2023-10-09-185406.png](https://i.postimg.cc/Ls479ZmW/2023-10-09-185406.png)](https://postimg.cc/HrK33nc0)
### 4.2 常用的数据分析思维模式--4p营销理论
[![2023-10-09-185444.png](https://i.postimg.cc/Jzx624j5/2023-10-09-185444.png)](https://postimg.cc/pm9J9vGm)
- 产品
- 价格：根据不同的市场定位制定合适的价格策略，价格的定位是企业的品牌
- 渠道：企业不直接面对消费者，注重经销商的培训和销售网络的建立，企业与消费者的联系通过经销商进行
- 宣传：促销活动：比如：打折
- **案例：** 用4P理论分析手机行业
[![2023-10-09-185833.png](https://i.postimg.cc/J4cS7kHs/2023-10-09-185833.png)](https://postimg.cc/KRj0J4Nb)
-  **案例：** 经典4p营销理论
[![2023-10-09-185959.png](https://i.postimg.cc/3J7zSqP7/2023-10-09-185959.png)](https://postimg.cc/rznhzfVY)
### 4.3 常用的数据分析思维模式--AARRR模型
- AARRR模型是所有运营人员都要了解的一个数据分析模型，从整个用户的生命周期入手，包括5个阶段
1. 包括Acquisition用户获取：用户从哪里来
2. Activation用户激活：用户的第一次体验如何
3. Retention用户留存：用户使用了之后是否会继续使用
4. Revenue用户产生收入（变现）：用户是否愿意为产品付费？产品如何赚钱？
5. Refer自传播：用户使用之后是否愿意介绍给其他用户？
- 每个环节分别对应生命周期中的5各种药过程，即从获取用户到提升活跃度，提升留存率，并获取收入，直至最后形成病毒式传播。
- **说明：** 有些时候可以加上感知（洞察），就变成了AAARRR模型
[![2023-10-09-190516.png](https://i.postimg.cc/sgzmXHCz/2023-10-09-190516.png)](https://postimg.cc/bs6kVTvV)
- 2A3R模型涉及到数据分析指标：
1. 获取：设计新增用户数等指标
2. 激活：设计用户活跃相关指标，比如：日活、周活、月活
3. 留存：设计用户留存相关的指标，比如：次日留存率、三日留存率、七日留存率等
4. 变现：设计用户付费相关的指标：付费率、活跃付费用户数、ARPU、LTV等
   - 付费率：付费用户占活跃用户的比率，也叫付费渗透率
   - 活跃付费用户数：统计周期内仍保持活跃的付费用户数
   - ARPU:平均每用户收入
   - LTV:生命周期价值，用户在其生命周期内的收入总和，相当于长期积累的ARPU.
5. 传播：也叫口碑传播或者病毒式传播，可以通过k因子来反映
  - K=每个用户向他的朋友们发出的邀请的数量*接收到邀请人转化为新用户的转化率
  - 假设平均每个用户回想20个朋友发出邀请，而平均的转化率为10%，你们K*0%=2
    - K>1时，用户群就像滚雪球一样增大
    - K<1时，用户群到某个规模时就会停止通过自传播增长
  - 绝大部分产品还不能完全依赖于自传播,还必须和其他营销方式结合。但是，在产品设计阶段考虑有利于自传播的功能，因为这种免费的推广方式可以部分地减少用户获取成本。
### 4.4 常用的数据分析思维模式--用户行为理论
- 当我们使用一个产品的时候，需要经过一个过程，从了解到熟悉，从试用到使用，最后还可能成为这个产品的忠诚用户，用一个流程图：认知-->熟悉-->试用-->使用-->忠诚，围绕用户行为这个过程的理论称之为用户行为理论。
- 例如，对于一个网站，用户的行为可以分为这5个阶段：认知、熟悉、试用、使用、忠诚。
在这5个阶段中，用户的行为可能有以下一些。
  - 认知：网站访问
  - 熟悉：网站浏览、站内搜索等
  - 试用：注册、试用产品
  - 忠诚：产生用户粘性或者流失
- 根据用户行为理论，数据分析要关注的指标可以分为5个方面。
1. 认知：在认知阶段，用户的行为主要是网站访问，涉及到的数据分析指标可能有：PV、UV、访问来源和人均访问页面量等，对于这些指标的说明如下。
   - PV:页面的访问量
   - UV:独立访客，一台电脑为一个独立访问人数，方可又可以分为新房客和老访客
   - 访问来源：用户来源渠道
   - 人均访问页面两：平均每个可访问了多少个页面
2.  熟悉：在熟悉阶段，用户的行为主要有网站浏览、站内搜索等，涉及到的数据分析指标可能有：平均停留时长、跳出率等，对于这些指标的说明如下。
   - 平均停留时长：平均每个访客访问页面停留的时间长度，这个指标越大越好。
   - 跳出率：针对某个页面来说，只浏览了这个页面就离开的访问次数除以该页面的总访问次数。跳出率越高，说明这个页面的问题就越大，越需要调整。
3. 试用：在试用阶段，用户的行为主要有注册、试用产品等，涉及到的数据分析指标可能有：注册用户数、注册转化率等。
  - 注册转化率：是指注册用户数除以新访客数。
4. 使用：在使用阶段，用户的行为主要有购买及使用产品，涉及到的数据分析指标可能有：购买金额、数量及购买转化率等。
  - 购买转化率：可以理解为成交转化率，即成交用户数除以总访问用户数，是一个结果指标。
5. 忠诚：最后这个阶段，用户可能对网站产生黏性，也可能流失掉，涉及到的数据分析指标可能有：回访客比例、访问深度、流失用户数及流失率等。
  - 访问深度：是指每次访问用户所浏览的页面量，由于用户通常会多次访问网站，每次访问若干个页面，所以一般统计平均值，即平均访问深度，这个指标能够衡量用户的黏性，一般来说，访问深度越高，用户粘性也越高。
[![2023-10-09-194006.png](https://i.postimg.cc/qqnd4J94/2023-10-09-194006.png)](https://postimg.cc/7JxRNkHW)
### 4.5 常用的数据分析思维模式--5W2H分析方法
https://www.zhihu.com/tardis/zm/art/109889297?source_id=1003
在面试和工作中，经常会遇到这样的问题：为什么这个月销售量下降了？
- **什么是5W2H分析方法**
  - 5W是5个为什么：what(做什么)，when(何时)，where(何地)，why(为什么)，who(是谁)
  - 2h是：how(如何做)，how much(多少钱)
- **5W2H分析方法内容**
  - what:工作内容和目标，是什么？目的是什么？
  - why:做这项工作的原因，为什么、为什么要这么做、原因是什么
  - who:负责人、参与人员，谁来执行？谁来负责？谁来管理？
  - when:什么时间进行工作，何时？什么时间完成？
  - where:工作发生的地点，何处？从哪里来？到哪里去？
  - how:用什么方法进行，怎么做？如何提高效率？如何实施？
  - how much:需要多少成本，做多少？做到何种程度？数量、质量如何？
- **5W2H模型梳理**
  - 梳理业务流程是数据分析中一个比较复杂的过程，需要我们根据具体的业务场景和业务知识来完成，然后抽象成5W2H分析模型中的具体每一步，完美的展示出来
  - （1）who：人，整个业务流程中所有涉及最重要部分

    - 这里的人不仅指负责人，执行人，具体的管理人，还有客户和各种维护的人员，只有把具体的数据都收集起来，才能更好的展现业务场景

  - （2）what：目标，整个业务需要完成的目标

    - 业务的目的是什么，重点是什么，需要做什么工作，做到何种程度。无论一个业务是复杂还是简单，都需要设立一个目标，才能细分下来具体的工作

  - （3）why：原因，业务为什么要完成这个目标

    - 找到业务为什么要完成这个目标，寻找起因，找到问题的根源，才能知道业务的痛点所在，更好地去解决问题

  - （4）where：地点，业务完成的具体地点

    - 选择这个地点的原因，具体了解这个地点的发展情况，行业区分，人群行为特征等，只要这样才能更好地开展业务

  - （5）when：时间，业务开始到完成之间的时间安排

    - 业务安排为什么选择这段时间，具体调研近几年业务市场的时间趋势，找出合理的时间安排

  - （6）how：怎么做，如何完成目标

    - 业务目标已定，具体的细节也需要完善，不同的地点有不同的时间安排，不同的市场也有不同的营销策略

  - （7）how much：做多少，完成其目标所需要花费的成本代价

    - 完成目标的成本非常的重要，要具体考虑到开发市场的数量，调研，选址及装修的投入，促销和营销的投入，短期回报等问题
- 案例1：如何设计一款产品？这时候可以用5w2h分析方法来明确问题：
  - what(做什么)：这是什么产品？
  - when（何时）：什么时候需要上线？
  - where（何地）：在哪里发布这些产品？
  - why（为什么）：用户为什么需要它？
  - who（是谁）：这是给谁设计的？
  - how （怎么做）：这个产品需要怎么运作？
  - how much（多少钱）：这个产品里有付费功能吗？价格是多少？
- 案例2：设计一款app的调查问卷，你会如何设计调查问卷上的问题？

  - what(做什么)：你用这款app做什么事情？
  
  - when（何时）：你通常在什么时间使用这款app？
  
  - where（何地）：你会在什么场景使用它？
  
  - why（为什么）：你为什么选择这款app？
  
  - who（是谁）：如果你觉得你喜欢这个产品，你会推荐给谁？
  
  - how （怎么做）：你觉得我们需要什么功能才是比较新颖的？
  
  - how much（多少钱）：如果你认为这是个对你有帮助的APP，你会花什么价格去购买app里的服务？
- 案例3：为什么墙上有裂纹？
  - 负责的人就找来专家分析原因。一开始认为，问题出在清洗墙体用的清洁剂上，所以解决办法就是减少冲洗次数，或者更换清洁剂。

  - 后来专家又追问了5个为什么（5w）：

    - 1）为什么要冲洗墙？因为墙上有很多的鸟粪。
    - 2）为什么有很多鸟粪？因为有很多燕子在大厦周围筑巢。
    - 3）为什么有很多燕子？因为墙上有很多燕子爱吃的蜘蛛。
    - 4）为什么有很多蜘蛛？因为大厦四周有蜘蛛喜欢吃的飞虫。
    - 5）为什么有很多飞虫？因为大厦窗户大，阳光充足，飞虫聚在大厦里，繁殖很快


  - 所以，问题的根源找到了，是因为大厦窗户光照太充足导致的
  - 最后的解决办法也变得简单了：加个窗帘。就这样，本来需要几百万美元解决的问题，靠一个“窗帘”就解决了。
- 5w2h分析方法解决不了什么问题？
  - 5w2h分析方法很好理解，但是在复杂的商业问题面前不起作用。这是因为复杂的商业问题不会像前面“为什么墙上有裂纹”案例里那样只有一个原因，而是由多个原因引起的。比如“销量为什么下降”，可能是由多个原因导致的。这时候就需要你在工作里掌握下面这些常用的分析方法：
### 4.6 常用的数据分析思维模式--逻辑树
https://developer.aliyun.com/article/1154096
- 概念
  - 很多数据分析场景中我们需要梳理分析的逻辑，需要进行指标从大到小的拆分，这时候我们可以顺着影响分析结果的因素进行层层溯源，从而抓住问题的核心。为了有更清晰的逻辑结构，常常采用逻辑树（又称为问题书、分分解树）进行整体过程的呈现。逻辑树使用层级的结构将每个大问题的 所有子问题进行罗列，然后再将子问题的子问题进行罗列，以此类推，当问题不能够被拆分时形成一个完整的逻辑树
  - 逻辑树没有固定的结构，问题多的子树和叶子就会多，当心问题出现时在对应的位置添加子树（叶子）即可，一般的逻辑树结构如下：
  [![2023-10-09-201525.png](https://i.postimg.cc/bJp1kPXg/2023-10-09-201525.png)](https://postimg.cc/rdZd2vwR)
- 逻辑树的核心
  - 三要素
    - 要素化：把相同问题总结归纳成要素；
    - 框架化：将各个要素组织称框架，遵守不重不漏的原则；
    - 关联化：框架内的各要素保持必要的相互联系，简单而不孤立。
- 逻辑树的划分
  - 议题树：将问题逐层细分
    -议题树是最简单的逻辑树，议题树通过逐层细分的方式将模糊不清的问题分成无数个具体的小问题。由于细分的原因，议题树的子树和叶子都很多，从议题树上我们可以推断出所有的可能情况，但是构建树的速度很慢。
    - 使用场景：通常用于问题开始出现时。问题出现初期通常是不明原因的，这时详细的进行问题罗列就显得很重要了。
    - 议题树结构示例：
  [![2023-10-09-201924.png](https://i.postimg.cc/nV7CZ56c/2023-10-09-201924.png)](https://postimg.cc/yW1Vyf1w)
  - 假设树：论证假设性问题
    - 假设树顾名思义是用于提供假设的逻辑树，这里的假设是用于提供多种解决问题的方案的假设，提出假设后要给出足够多的证据来证明假设的可行性。
    - 使用场景：对于问题现状有足够的了解，需要提出合理的假设方案（准备对问题进行更深入的分析时）。
    - 假设树结构示例：
  [![2023-10-09-202024.png](https://i.postimg.cc/T2qftXzm/2023-10-09-202024.png)](https://postimg.cc/RqFk02VV)
  - 是否树：将问题简单化
    - 是否树相对于前面的两种逻辑树来说更加的简单，该树可以看作是一颗二叉树（每个节点只有是/否两个分支），我们每次只需要考虑问题是否成立即可，是则采取建议，否则继续进行考虑。
    - 使用场景：当深入了解了问题整体，需要提供决策或提供决策标准时选择是否树。
    - 是否树结构示例：
    [![2023-10-09-202112.png](https://i.postimg.cc/MKF4DPpV/2023-10-09-202112.png)](https://postimg.cc/YhQb2xgC)
- 逻辑树划分对比

类型  | 描述  | 作用  | 使用场景
----  | ---------  | --------  | ------
议题树  | 将大问题细分成具有逻辑的小问题  | 将问题拆分，利于解决  | 问题出现时
假设树  | 假设多种解决方案，并对每种方案给出论据  | 提供潜在的解决方案，加快解决问题的进行  | 了解问题现状时
是否属 | 展示抉择和决策树标准之间的联系  | 确认问题的决策 | 深入了解问题时

- 案例
  - 举个通俗点的例子，读文章的小伙伴们都是数据分析行业的从业者（爱好者），现在给出一个问题：如何提高数据分析能力？看到这个问题不难感受到数据分析所涉及的知识多而广，一时间不知道如何下手，此时我们就可以通过逻辑树的方式，按照某种逻辑对提高数据分析能力这件事进行拆分，拆分示例图如下所示：
  [![2023-10-09-202504.png](https://i.postimg.cc/zG58srfG/2023-10-09-202504.png)](https://postimg.cc/nCdymN7y)

- 总结
  - 上述的例子是一个最简单的例子，其实不难发现，想要构建出一个好的逻辑树，“逻辑”是很重要的，我们要在遇到问题之前清晰的考虑到问题是由什么产生的，产生问题的原因又是从哪里来的......这也就是我们常说的有“逻辑”的去思考问题。
## 第五章 餐厅数据分析
### 5.1 认识数据并预处理
- 如果餐厅人们为患或者没有人顾客如何分析呢？
  - 出现原因
    - 位置，味道等
- 将NA的数据删除
- 工具：git bash
  - 对比cmd，got bash几乎接近linux
  - 打开git bash-->jupyter lab(是jupyter notebook的升级版)
- 具体操作见：cooking的jupyter文件
### 5.2 最受欢迎的菜并可视化分析
### 5.3 订单消费维度分析并可视化
### 5.4 日期与时间维度进行点菜量分析
### 5.3 项目总结
- 不同维度进行数据分析
  - 针对订单order_id:什么菜最受欢迎、点菜的种类、点菜的数量、消费金额最大、平均消费最贵
  - 针对时间、日期进行分析：点菜量比较集中的时间、哪一天订餐数量最大、人们喜欢在星期几的就餐人数最多
- 技术点
  - 连接数据：pd.concat([列1，列2,...])
  - 分组进行统计（分组求和）
  - 排序，切片top10
  - 绘制柱状图走势和高度
## 第六章 物流行业数据分析
- 见wuliu.jypy文件
### 6.1 需求分析
### 6.2 预处理--重复值、缺失值、格式调整
### 6.3 预处理--异常值处理和偏态分布
### 6.4 预处理--月分裂的数据规整
### 6.5 数据分析--货品配送服务分析
### 6.6 数据分析--商品质量分析、项目总结

## 第七章 用户消费行为分析
### 7.1 项目介绍--需求分析
[![2023-10-10-112312.png](https://i.postimg.cc/Yqy6cMMv/2023-10-10-112312.png)](https://postimg.cc/ppzhzN9v)
### 7.2 导入数据--初步分析数据
### 7.3 数据预处理--用户整体消费分析（按月）
### 7.4 用户个体消费分析--消费金额与次数描述
### 7.5 用户个体消费分析--消费金额分布与贡献率
### 7.6 用户个体消费分析--收购和最后一次购买分析
### 7.7 用户分层--RFM模型分析并可视化
### 7.8 用户分层--新用户、活跃用户、回流用户流失分析1
### 7.9 用户分层--新用户、活跃用户、回流用户流失分析2
### 7.10 用户购买周期分析
### 7.11 用户生命周期分析
### 7.12 用户复购率分析
### 7.13 用户回购率分析
### 7.14 项目总结
## 第八章
### 2.5.1 背景分析
### 2.5.1 每天每月销量分析
### 2.5.1 用户购买两和金额分析--merge函数
### 2.5.1 用户2购买门票--2
### 2.5.1 用户5天内购买门票比例分析
### 2.5.1 用户复购率和回购人数分析
### 2.5.1 新用户--活跃用户占比分析
### 2.5.1 回流用户、活跃用户分析
### 2.5.1 用户生命周期分析
### 2.5.1 用户留存天数计算
### 2.5.1 用户留存率计算
### 2.5.1 项目总结



