## 第一章 ABtest检验
https://zhuanlan.zhihu.com/p/68019926

[![2023-10-09-150302.png](https://i.postimg.cc/4dR2H1cp/2023-10-09-150302.png)](https://postimg.cc/8FwmqMtC)
### 0.0 AA/AB测试
- AB测试自不必说，主要测试新的算法在指定的监测指标上又没有达到预期，AA测试则一般用来测试AB测试和用户的稳定性，也可以作为AB测试的一个预演和对AB测试工具的测试。
### 1.1ABtest--简介
- 类似于初中生物说的对照试验。对用户分组，每个组使用一个方案（方案应该遵守单变量前提），在相同的时间维度上取观察用户的反应（体现在业务数据和用户体验数据上）。需要注意的是哥哥用户群组的组成成分应该尽量相似，比如新老用户很有可能表现出较大的偏好差异。最后根据假设检验的结果，判断 哪些版本较之原版本有统计意义上的差异，并根据效应量选出其中表现最好的版本。
### 1.2ABtest--流程
#### 1.2.1 ABtest--流程--测试流程
1. 分析现状，建立加假设：分析业务，确定最高优先级的改进点，作出假设，提出优化建议、
2. 设定指标：设置主要指标来衡量版本的优劣；设置辅助指标来评估其他影响
3. 设计与开发：设计优化版本的原型并完成开发
4. 确定测试的市场
5. 确定分流方案：确定每个测试版本的分流比例以及其他分流细节
6. 采集并分析数据：手机实验数据，进行有效性和效果判断
7. 得出结论：确定发布新版本；调整分流比例继续测试；优化迭代方案重新开发，回到步骤1
- **注意点**
  - 测试时长：测试时长不宜过短，否则参与实验的用户几乎是产品的高频用户
  - 分流（或者说抽样）：应该保证同时性、同质性、唯一性、均匀性
    - 同时性：分流与测试应该是同时的
    - 同质性：也可以说是相似性，是要求分出的用户群，在各维度上的特征都相似。可以基于用户的设备特征（例如：手机型号、操作系统版本号、手机语言等）和用户的其他标签（例如性别、年龄、新老用户、会员等级等）进行分群，每一个A/B测试试验都可以选定特定的用户群进行试验。
    - 唯一性：要求用户不被重复计入测试
    - 均匀性：要求各组流量是均匀的。Hash算法。现在一般由专用的A/B测试工具负责。也有看到一篇文章写了python实现，大体的思路是对用户id添加Salt值，对其散列，并据此算出一个0-1之间的浮点数，同设定好的阈值比大小，从而分组。有兴趣的可以看看，该作者的思路很清晰： 随机分配里的Why and How。（统计学原理上，我没有找到均匀性这一要求的依据，其实双样本的假设检验并不要求两个样本的数量相等或相近。当然从直观上是可以理解，希望分出的用户组越相近越好，包括人数的相近。）
  - **思考**:如何确定同质性
    - 可以采用AAB测试。抽出两份流量进行A版本的测试，进行AA测试，并分别与B版本进行AB测试。通过考察A1和A2组是否存在显著性差异，就可以确定试验的分流是否同质了。
#### 1.2.2 ABtest--流程--注意点
- A/B测试只能有两个版本么？
  - A/B test不是只能A方案和B方案，实际上一个测试可以包含A/B/C/D/E/……多个版本，但是要保证单变量，比如按钮的颜色赤/橙/黄/绿/青/蓝/紫，那么这七个方案是可以做A/B测试的；但如果某方案在旁边新增了另一个按钮，即便实验结果产生了显著差异，我们也无法判断这种差异的成因究竟是谁。
- 同一段时间内可以做不同的A/B测试么？
  - 比如一个test抽取总体20%的流量做按钮颜色的实验，另一个test也抽取总体20%的流量做布局样式的实验。是否可行？

  - 我认为是可行的。但要求多个方案并行测试，同层互斥。如果从总体里，先后两次随机抽取20%流量，则很有可能会有重叠的用户，既无法满足控制单变量，又影响了用户的使用体验。

  - 同层指的是在同一流量层中创建实验，在此层中创建的实验共享此层中的100%流量。
互斥指的是在此层中，一个设备有且只能分配到此层多个实验中的某一个实验。
### 1.3ABtest--假设检验
[![2023-10-09-145447.png](https://i.postimg.cc/3NxWgLrj/2023-10-09-145447.png)](https://postimg.cc/S2Hy4fMj)
#### 1.3.1 ABtest--假设检验--流程
1. 给出原假设（零假设）和备择假设
- 零假设和备择假设是参数空间的真子集，且不能相交。

- 常把没有把握不能轻易肯定的命题作为备择假设H1 ，而把没有充分理由不能轻易否定的命题作为零假设H0 。或者说我们将希望通过实验结果推翻的假设记为零假设H0。
2. 根据备择假设确定检验方向
- 备择假设含≠则为双尾；含<或>则为单尾，含<为左尾，含>为右尾。 
3. 判断抽样分布类型
- 主要判断抽样分布是否近似正态分布
4. 确定检验类型及检验统计量
- 在判断用什么检验的时候，首要考虑的条件是样本量，其次是总体服从的分布
  - 样本容量大时（统计学上一般认为n≥30），总体的均值和标准差未知，不要求总体近似服从正态分布。根据中心极限定理，样本容量大，则样本均值的抽样分布服从正态分布，总体标准差可以用样本标准差来估计，可用Z检验；
  - 当样本容量小于30，且满足总体近似服从正态分布时，如果总体标准差已知，可用Z检验；
  - 当样本容量小于30，且满足总体近似服从正态分布时，如果总体标准差未知，可以用样本标准差去估计总体标准差，由此可用T检验；
  - 当样本容量小于30，且不满足总体近似服从正态分布，不能用Z检验和T检验。
- **注意：**（不过现在的很多软件简化了上述步骤，改为，若总体标准差已知（无论样本大小）都用Z检验；若总体标准差未知，都用T检验。不过当样本量够大的时候，T分布也近似于Z分布了，所以最后的结果不会差很多。T分布其实是小样本的Z分布。一个样本的自由度越大，样本方差就越接近总体方差，T分布也就越接近Z分布。因此T分布的形状随自由度的变化而变化，自由度越大，越接近正态分布。）
5. 给定显著性水平
- α常取0.1、0.05、0.01，后文会再谈到显著性水平与两类错误。
#### 1.3.1 ABtest--假设检验--如何确定检验类型
- 样本容量大时（统计学上一般认为n≥30），总体的均值和标准差未知，不要求总体近似服从正态分布。根据中心极限定理，样本容量大，则样本均值的抽样分布服从正态分布，总体标准差可以用样本标准差来估计，可用Z检验；
  - 当样本容量小于30，且满足总体近似服从正态分布时，如果总体标准差已知，可用Z检验；
  - 当样本容量小于30，且满足总体近似服从正态分布时，如果总体标准差未知，可以用样本标准差去估计总体标准差，由此可用T检验；
  - 当样本容量小于30，且不满足总体近似服从正态分布，不能用Z检验和T检验。
### 1.4ABtest--假设检验示例以及相关代码
## 第二章--数据分析
### 2.1.1 技能决定下线，思维决定上线
### 2.1.2 目标导向：如何走出数的怪圈
### 2.1.3 客观严谨：事实+论证过程+观点
### 2.1.4 指标思维：如何搞清楚各种不同的指标
### 2.1.5 逻辑思维
### 2.1.6 系统结构
### 2.1.7 懂业务
## 第三章 常用的数据分析方法
- 对比分析法
  - 是指将两个或者两个以上的指标进行对比分析，通过对比分析可以直观地看到事务的变化或者差距。
  - 对比分析可以基于时间进行对比，也可以基于分类（地区，部门，类别）对比。
  [![2023-10-09-162517.png](https://i.postimg.cc/j5GjmbvY/2023-10-09-162517.png)](https://postimg.cc/Q9JsKvRf)
  - 在使用对比分析法的过程中，我们要搞清楚三点：比什么？怎么比？和谁比？

  - 比什么，一般就是拿数值进行对比，绝对值或者是比例值。

  [![2023-10-09-162624.png](https://i.postimg.cc/Jn1mq28d/2023-10-09-162624.png)](https://postimg.cc/gwBfc4nv)

- 分组分析法
- 结构分析法
- 交叉分析法
- 矩阵分析法
- 杜邦分析法
- 漏斗图分析法
#### 3.1 对比分析法--按时间和地区
- 怎么比，一般有同比和环比两种方式，同比是与当前时间范围上层时间范围的前一范围中同样位置数据对比，比如年同比：今日vs去年今日。环比是与当前时间范围相邻的上一个时间范围对比，比如日环比：今天vs昨天
  
- 例如，利用对比分析法分析某公司的理念销售额的变化，基于事件的对比通常用折线图

  [![2023-10-09-152941.png](https://i.postimg.cc/Zn8H1fTV/2023-10-09-152941.png)](https://postimg.cc/q672Kx63)
- 例如：通过对比分析法分析不同地区的销售，基于分类的对比通常采用柱形图图或者条形图

    [![2023-10-09-153049.png](https://i.postimg.cc/YCZFz679/2023-10-09-153049.png)](https://postimg.cc/sMP1VZvd)
- 和谁比？可以和自己比，也可以和行业或者竞品比。比如从时间维度，那去年的销售额数据和今年的相比，发现下滑5%，说明公司今年销售情况相比去年不太好，然后再和行业整体数据相比，发现行业整体销售下滑20%，公司销售下滑比例远小于行业整体销售下滑比例，说明今年公司的销售情况还不错。

[![2023-10-09-162915.png](https://i.postimg.cc/G3KhwVKD/2023-10-09-162915.png)](https://postimg.cc/py9tK0gV)
### 3.2 对比分析法--同比
- 居于时间的对比有两个常用的指标：同比和环比
- 同比：分析指标与同期进行比较，一般用于两年相同的月份的比较上
- 环比：分析指标与相邻周期（上个月）进行比较，一般用于相邻月份的比较上
[![2023-10-09-153545.png](https://i.postimg.cc/zXtNMpVJ/2023-10-09-153545.png)](https://postimg.cc/svhbGYY8)
### 3.3 对比分析法--环比
### 3.4 分组分析法
- 分组分析法主要用于查看数据的分布，即绘制直方图。例如，莫公司想了解客户购买数量的情况，可以绘制客户购买量的直方图，如下图所示，从图中可以看出：
  - 大多数客户的购买数量在6件以下
  - 有981人只够买了一件，1174人购买数量大于6件，但不超过11件
  - 少数用户的购买数量大于11件
  
[![2023-10-09-160118.png](https://i.postimg.cc/Dwqm87Ds/2023-10-09-160118.png)](https://postimg.cc/LJ8mWFm6)

### 3.5 结构分析法
- 主要用于分析总体内部各部分栈总体的比例
- 例如：分析不同的餐品类别所占的比例，可以通过并图来表示。
  
  [![2023-10-09-160727.png](https://i.postimg.cc/QxjqyGzT/2023-10-09-160727.png)](https://postimg.cc/14Y68Tsm)
- 结构分析法也可以添加时间维度，例如，对比不同年份的不同产品类别的销售额，一般采用堆积柱形图表示
  
 [![2023-10-09-161004.png](https://i.postimg.cc/RhWvMbsQ/2023-10-09-161004.png)](https://postimg.cc/dZcb6nKL)
### 3.6 交叉分析法
- 把统计分析数据制作称二维交叉表格，将一定联系的变量分别设置为行变量和列变量，两个变量在表格中的交叉节点即为变量值，通过表格体现变量之间的关系，称为交叉分析法
- 交叉分析法在市场调研项目中应用比较广泛，它可以让复杂的数据关系简单化，对于调研数据的整理比较实用。
- 案例：对一个地区230家宾馆进行调查分析，主要指标采用综合等级，平均价格、服务等级、卫生标准等。得到一个230家宾馆的一维数据调查表：

[![2023-10-09-163255.png](https://i.postimg.cc/nrQf3bsZ/2023-10-09-163255.png)](https://postimg.cc/Pvh7q7zF)
### 3.7 矩阵分析法
https://www.51cto.com/article/687680.html
- 矩阵分析法就是用矩阵的方式来分析数据，其中最有名的就是波士顿矩阵（BCG）
- 波士顿矩阵是以市场增长率和市场占有率作为坐标轴，将企业产品分为四类，如下图所示
[![2023-10-09-163637.png](https://i.postimg.cc/zXjrRg6R/2023-10-09-163637.png)](https://postimg.cc/fJJFGJww)
- 从图中可以看到，这四类产品有如下特征。

  - 市场占有率高，且市场增长率高的产品称为明星产品。
  - 市场占有率高，但市场增长率低的产品称为现金牛产品。
  - 市场占有率低，但市场增长率高的产品称为问题产品。
  - 市场占有率和市场增长率都低的产品称为瘦狗产品。
- 针对这四类产品要采取的运营策略也是不同的。

  - 明星产品：市场份额高，且有较大的成长空间，需要加大投资，使其继续增长。

  - 现金牛产品：市场占有率高但没什么成长空间，属于成熟阶段，能够为企业带来大量的现金流，保持即可。

  - 问题产品：市场占有率低，但增长率高，这种产品往往是一个企业的新产品，潜力大，但也伴随着风险，想提高市场占有率就要加大投资，以便快速抢占市场份额，加大投资可能会影响企业现有的成熟的业务，意味着企业需要转型，所以“问题”这个词很好地描述了这种产品，企业必须慎重考虑是继续发展该产品还是放弃。

  - 瘦狗产品：市场占有率低，且增长率低，即无法带来现金流，也没有办法改善其增长问题，更多地是基于情感因素或者其他因素保留该产品，对于这类产品，需要尽快剥离或者放弃
- 实现
  - 在数据分析工作中，也可以按照这个思路来分析问题，例如，想知道各个地区的销售额和数量，可以做如下表所示的统计。
    
[![2023-10-09-165307.png](https://i.postimg.cc/nrYRsqdR/2023-10-09-165307.png)](https://postimg.cc/4HybqHRV)
  - 第一步：用数据透视表统计出各个地区的销售额和数量，并求出销售额和数量的均值，如下表所示。
  [![2023-10-09-165431.png](https://i.postimg.cc/mDtFX30Y/2023-10-09-165431.png)](https://postimg.cc/XG6JX5Nq)
  - 第二步：绘制散点图，以销售额作为X轴，以数量作为Y轴，如下图所示。
  [![2023-10-09-165502.png](https://i.postimg.cc/d3G3p5ny/2023-10-09-165502.png)](https://postimg.cc/ct4d8Mpx)
  - 第三步：调整坐标轴，将横纵坐标轴的交点调整为均值。选中横坐标，在坐标轴选项中，将“坐标轴值”设置为销售额的均值2686258。
  [![2023-10-09-165510.png](https://i.postimg.cc/MpHxjsRm/2023-10-09-165510.png)](https://postimg.cc/svkbk4TM)
  - 按照同样的方式，选中纵坐标，将这个值设置为数量的均值6279，如下图所示。
  [![2023-10-09-165614.png](https://i.postimg.cc/Pq17LZ6M/2023-10-09-165614.png)](https://postimg.cc/TyY0Fyvy)
### 3.8 杜邦分析法
https://www.zhihu.com/tardis/zm/art/401308988?source_id=1003
#### 3.8.1 杜邦分析法--解释
- 是一种用来评价企业的盈利能力和股东权益汇报水平的指标，从财务角度评价企业绩效的一种方法，总的来说，杜邦分析法其实就是以ROE为核心，自上而下拆分的一个金字塔结构：

[![2023-10-09-170559.png](https://i.postimg.cc/hjfbW6Q1/2023-10-09-170559.png)](https://postimg.cc/N9vrRN4K)
- 杜邦分析法的框架逻辑
  - 杜邦分析公式：ROE（净资产收益率）=销售净利率*资产周转率*权益乘数
  - ROE是杜邦分析系统的顶层，也是我们分析的最终目的，它用来反映投入资本的盈利能力。
  - 通俗来说就是：你有100万本金想开个剧本杀店，钱不够找隔壁老王借了100万，也就说你的剧本杀店现在负债100万，如果剧本杀店经营的不错，扣除完各种费用和还隔壁老王的利息还赚了20万，这时候你剧本杀店的ROE就是20%。计算的方法就是用20万的净利润除以你个人出资的100万，等于20%。

  - ①销售净利率=净利润 / 销售收入——表明企业的盈利能力

  - ②资产周转率=销售收入/ 总资产——表明企业资金周转的能力

  - ③权益乘数=总资产/净资产(权益)——反映企业的负债程度，资产负债率越高，权益乘数就越大，风险就越大
#### 3.8.1 杜邦分析法--案例操作
- 杜邦分析法的三个步骤
  - 第一步：从净资产收益（ROE）开始，根据财务三大表（主要是资产负债表和利润表）逐步分解计算各指标
  - 第二部：将计算的指标填入杜邦分析图
  - 第三步：逐步进行前后期对比法分析，也可以进一步进行企业间的横向对比分析，分析哪些指标影响了ROE,找到原因
  
### 3.9 漏斗图分析法
## 第四章 常用的数据分析思维模型
- PEST分析法
- 4p营销理论
- AARRR模型
- 用户行为理论
- 5W2H分析方法
- 逻辑树
### 4.1 常用的数据分析思维模式--PEST分析法

### 4.2 常用的数据分析思维模式--4p营销理论
### 4.3 常用的数据分析思维模式--AARRR模型
### 4.4 常用的数据分析思维模式--用户行为理论
### 4.5 常用的数据分析思维模式--5W2H分析方法
### 4.6 常用的数据分析思维模式--逻辑树
### 2.4.1 认识数据并预处理
### 2.4.1 最受欢迎的菜并可视化分析
### 2.4.1 订单消费维度分析并可视化
### 2.4.1 日期与时间维度进行点菜量分析
### 2.4.1 项目总结
### 2.5.1 需求分析
### 2.5.1 预处理--重复值、缺失值、格式调整
### 2.5.1 预处理--异常值处理和偏态分布
### 2.5.1 预处理--月分裂的数据规整
### 2.5.1 数据分析--货品配送服务分析
### 2.5.1 数据分析--商品质量分析、项目总结
### 2.5.1 项目介绍--需求分析
### 2.5.1 导入数据--初步分析数据
### 2.5.1 数据预处理--用户整体消费分析（按月）
### 2.5.1 用户个体消费分析--消费金额与次数描述
### 2.5.1 用户个体消费分析--消费金额分布与贡献率
### 2.5.1 用户个体消费分析--收购和最后一次购买分析
### 2.5.1 用户分层--RFM模型分析并可视化
### 2.5.1 用户分层--新用户、活跃用户、回流用户流失分析1
### 2.5.1 用户分层--新用户、活跃用户、回流用户流失分析2
### 2.5.1 用户购买周期分析
### 2.5.1 用户生命周期分析
### 2.5.1 用户复购率分析
### 2.5.1 用户回购率分析
### 2.5.1 项目总结
### 2.5.1 背景分析
### 2.5.1 每天每月销量分析
### 2.5.1 用户购买两和金额分析--merge函数
### 2.5.1 用户2购买门票--2
### 2.5.1 用户5天内购买门票比例分析
### 2.5.1 用户复购率和回购人数分析
### 2.5.1 新用户--活跃用户占比分析
### 2.5.1 回流用户、活跃用户分析
### 2.5.1 用户生命周期分析
### 2.5.1 用户留存天数计算
### 2.5.1 用户留存率计算
### 2.5.1 项目总结



